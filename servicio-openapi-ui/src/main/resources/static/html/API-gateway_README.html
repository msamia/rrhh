<!DOCTYPE html>
<html>
<body>
<h1>API Gateway</h1>
<br>
<p>Encamina las peticiones entrantes hacia los diferentes microservicios de RRHH.</p>
<br>
<p>Forma parte del proyecto de microservicios. Consultá <code>../README.adoc</code> para detalles generales.</p>
<br>
<p>Este servicio actúa como balanceador de carga utilizando Spring Cloud Gateway y Eureka. Todas las solicitudes pasan por aquí para enrutarse correctamente.</p>
<br>
<h2>Rutas principales</h2>
<br>
<p>Las reglas de enrutamiento están definidas en <code>application.properties</code>. En general las operaciones de escritura (<code>POST</code>, <code>PUT</code>, <code>DELETE</code>) van al microservicio correspondiente y las consultas (<code>GET</code>) al <code>servicio-consultas</code>.</p>
<br>
<ul>
<li><code>/api/empleados/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-empleado</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/contratos/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-contrato</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/jornadas/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-entrenamiento</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/turnos/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-entrenamiento</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/asistencias/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-contrato</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/licencias/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-contrato</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/vacaciones/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-contrato</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/capacitaciones/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-entrenamiento</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/evaluaciones/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-entrenamiento</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/liquidaciones/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-nomina</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/conceptos/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-nomina</code></li>
<li><code>GET</code> -> <code>servicio-consultas</code></li>
</ul>
<li><code>/api/empleados/{id}/conceptos/**</code></li>
<ul>
<li><code>POST</code> -> <code>servicio-nomina</code></li>
</ul>
<li><code>/api/saga/**</code></li>
<ul>
<li><code>POST</code>, <code>PUT</code>, <code>DELETE</code> -> <code>servicio-orquestador</code></li>
<li><code>GET</code> -> <code>servicio-orquestador</code></li>
</ul>
<li><code>/actuator/cb-state/**</code></li>
<ul>
<li><code>GET</code> -> <code>servicio-orquestador</code></li>
</ul>
</ul>
<br>
<h2>Comentarios</h2>
<br>
<p>El gateway se registra en Eureka y aplica balanceo de carga para cada ruta. Es el punto de entrada sugerido para integrar clientes externos. Los diagramas están en <code>docs/uml/local</code>.</p>
<br>
<h2>Documentación OpenAPI</h2>
<br>
<p>Swagger UI está disponible en <code>/swagger-ui.html</code> y expone la descripción de las</p>
<p>rutas en <code>/v3/api-docs</code>.</p>
</body>
</html>
